(function(e){function t(t){for(var r,a,c=t[0],i=t[1],u=t[2],p=0,f=[];p<c.length;p++)a=c[p],Object.prototype.hasOwnProperty.call(o,a)&&o[a]&&f.push(o[a][0]),o[a]=0;for(r in i)Object.prototype.hasOwnProperty.call(i,r)&&(e[r]=i[r]);l&&l(t);while(f.length)f.shift()();return s.push.apply(s,u||[]),n()}function n(){for(var e,t=0;t<s.length;t++){for(var n=s[t],r=!0,c=1;c<n.length;c++){var i=n[c];0!==o[i]&&(r=!1)}r&&(s.splice(t--,1),e=a(a.s=n[0]))}return e}var r={},o={app:0},s=[];function a(t){if(r[t])return r[t].exports;var n=r[t]={i:t,l:!1,exports:{}};return e[t].call(n.exports,n,n.exports,a),n.l=!0,n.exports}a.m=e,a.c=r,a.d=function(e,t,n){a.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},a.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},a.t=function(e,t){if(1&t&&(e=a(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(a.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var r in e)a.d(n,r,function(t){return e[t]}.bind(null,r));return n},a.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return a.d(t,"a",t),t},a.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},a.p="/game_of_good-frontend-/";var c=window["webpackJsonp"]=window["webpackJsonp"]||[],i=c.push.bind(c);c.push=t,c=c.slice();for(var u=0;u<c.length;u++)t(c[u]);var l=i;s.push([0,"chunk-vendors"]),n()})({0:function(e,t,n){e.exports=n("cd49")},"0154":function(e,t,n){"use strict";n("f19d")},"11b1":function(e,t,n){"use strict";n("c482")},"16e6":function(e,t,n){"use strict";n("aa14")},"3a3b":function(e,t,n){"use strict";n("61b5")},"3e8e":function(e,t,n){"use strict";n("7801")},"4ca3":function(e,t,n){},"520e":function(e,t,n){"use strict";n("bd19")},"61b5":function(e,t,n){},7801:function(e,t,n){},9801:function(e,t,n){},aa14:function(e,t,n){},b3db:function(e,t,n){"use strict";n("4ca3")},b42a:function(e,t,n){"use strict";n("fd9b")},b82b:function(e,t,n){"use strict";n("9801")},bd19:function(e,t,n){},c482:function(e,t,n){},cd49:function(e,t,n){"use strict";n.r(t);n("e260"),n("e6cf"),n("cca6"),n("a79d");var r=n("7a23");function o(e,t,n,o,s,a){return Object(r["openBlock"])(),Object(r["createBlock"])(Object(r["resolveDynamicComponent"])(this.$route.meta.layout||this.defaultLayout))}function s(e,t,n,o,s,a){var c=Object(r["resolveComponent"])("router-view");return Object(r["openBlock"])(),Object(r["createBlock"])(c)}var a=Object(r["defineComponent"])({components:{}}),c=(n("0154"),n("6b0d")),i=n.n(c);const u=i()(a,[["render",s]]);var l,p=u,f=n("1da1"),d=n("d4ec"),m=n("bee2"),_=(n("96cf"),n("d3b7"),n("bc3a")),b=n.n(_),h=function(){function e(t){Object(d["a"])(this,e),this._axiosResponse=t}return Object(m["a"])(e,[{key:"data",get:function(){return this._axiosResponse.data}},{key:"headers",get:function(){return this._axiosResponse.headers}},{key:"status_code",get:function(){return this._axiosResponse.status}}]),e}();(function(e){e[e["ANONIMOUS"]=0]="ANONIMOUS",e[e["IN_PROCCESS"]=1]="IN_PROCCESS",e[e["AUTHORIZATED"]=2]="AUTHORIZATED"})(l||(l={}));var g=n("df85"),v=n("2295"),O=n("1232"),j=Object(g["a"])(),w=j.cookies,k=function(){function e(t){var n=this;Object(d["a"])(this,e),this.status=l.ANONIMOUS;var r=w.get("refreshToken"),o=w.get("accessToken");if(this._axios_instance=b.a.create({baseURL:t,timeout:4e3}),o){var s=Object(O["a"])(o),a=s.exp;1e3*a<Date.now()?this.refresh(r).then((function(e){n.signIn(e.access,e.refresh),n.status=l.AUTHORIZATED})).catch((function(e){Object(v["a"])({title:"Success",message:e,type:"error"}),n.status=l.ANONIMOUS})):1e3*a>=Date.now()&&r?(this._accessToken=o,this._refreshToken=r,this._registerJWTRequestInterceptor(),this._registerJWTResponseInterceptor(),console.log("Токены валидны")):this.signOut()}else!o&&r?this.refresh(r).then((function(e){n.signIn(e.access,e.refresh),n.status=l.AUTHORIZATED})).catch((function(e){Object(v["a"])({title:"Success",message:e,type:"error"}),n.status=l.ANONIMOUS})):this.signOut()}return Object(m["a"])(e,[{key:"get",value:function(){var e=Object(f["a"])(regeneratorRuntime.mark((function e(t,n,r){var o,s,a,c;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:o=0,s=function(e){return new Promise((function(t){return setTimeout(t,e)}))};case 2:if(!(this.status==l.IN_PROCCESS&&o<5)){e.next=8;break}return e.next=5,s(200);case 5:o++,e.next=2;break;case 8:return e.next=10,this._axios_instance.get(t,{params:n,headers:r});case 10:return a=e.sent,c=new h(a),e.abrupt("return",c);case 13:case"end":return e.stop()}}),e,this)})));function t(t,n,r){return e.apply(this,arguments)}return t}()},{key:"post",value:function(){var e=Object(f["a"])(regeneratorRuntime.mark((function e(t){var n,r,o,s,a=arguments;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return n=a.length>1&&void 0!==a[1]?a[1]:{},r=a.length>2&&void 0!==a[2]?a[2]:{},e.next=4,this._axios_instance.post(t,n,{headers:r});case 4:return o=e.sent,s=new h(o),e.abrupt("return",s);case 7:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}()},{key:"signIn",value:function(e,t){this._accessToken=e,this._refreshToken=t,w.set("refreshToken",t),w.set("accessToken",e),this._registerJWTRequestInterceptor(),this._registerJWTResponseInterceptor()}},{key:"signOut",value:function(){this._accessToken=void 0,this._refreshToken=void 0,null!=this._jwtRequestInterceptorID&&this._axios_instance.interceptors.request.eject(this._jwtRequestInterceptorID),null!=this._jwtResponseInterceptorID&&this._axios_instance.interceptors.response.eject(this._jwtResponseInterceptorID),w.remove("refreshToken"),w.remove("accessToken")}},{key:"refresh",value:function(){var e=Object(f["a"])(regeneratorRuntime.mark((function e(t){var n,r;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return n={refresh:t},e.next=3,this._axios_instance.post("/api/token/refresh/",n);case 3:return r=e.sent,e.abrupt("return",r.data);case 5:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}()},{key:"register",value:function(){var e=Object(f["a"])(regeneratorRuntime.mark((function e(t){var n,r;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return n={username:t.username,password:t.password},e.prev=1,e.next=4,this._axios_instance.post("auth/users/",n);case 4:return r=e.sent,e.abrupt("return",r);case 8:return e.prev=8,e.t0=e["catch"](1),e.abrupt("return",e.t0);case 11:case"end":return e.stop()}}),e,this,[[1,8]])})));function t(t){return e.apply(this,arguments)}return t}()},{key:"_registerJWTRequestInterceptor",value:function(){var e=this;this._jwtRequestInterceptorID=this._axios_instance.interceptors.request.use((function(t){return void 0==t.headers?t.headers={}:t.headers.Authorization="Bearer ".concat(e._accessToken),t}))}},{key:"_registerJWTResponseInterceptor",value:function(){var e=this;this._jwtResponseInterceptorID=this._axios_instance.interceptors.response.use(function(){var t=Object(f["a"])(regeneratorRuntime.mark((function t(n){var r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if((401==n.status||403==n.status)&&void 0!==e._refreshToken){t.next=4;break}return t.abrupt("return",n);case 4:return t.next=6,e.refresh(e._refreshToken);case 6:r=t.sent,e._accessToken=r.access,e._refreshToken=r.refresh;case 9:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}())}}]),e}(),y=(n("d9e2"),n("99af"),n("e9c4"),Object(m["a"])((function e(t,n){Object(d["a"])(this,e),this.access=t,this.refresh=n}))),x=n("3ef4"),q=function(){function e(t){Object(d["a"])(this,e),this._networkDriver=t}return Object(m["a"])(e,[{key:"login",value:function(){var e=Object(f["a"])(regeneratorRuntime.mark((function e(t,n){var r,o,s;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return r="api/token/",o={username:t,password:n},e.next=4,this._networkDriver.post(r,o);case 4:if(s=e.sent,200!=s.status_code){e.next=10;break}return Object(x["a"])({showClose:!0,message:"Успешно",type:"success"}),e.abrupt("return",Promise.resolve(new y(s.data.access,s.data.refresh)));case 10:return e.abrupt("return",Promise.reject(Error("Ошибка входа. response[status]: ".concat(s.status_code,";response[data]: ").concat(JSON.stringify(s.data),"`"))));case 11:case"end":return e.stop()}}),e,this)})));function t(t,n){return e.apply(this,arguments)}return t}()},{key:"get_questions",value:function(){var e=Object(f["a"])(regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t="/questions/",e.next=3,this._networkDriver.get(t);case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},{key:"get_categories",value:function(){var e=Object(f["a"])(regeneratorRuntime.mark((function e(){var t,n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t="/categories/",e.next=3,this._networkDriver.get(t);case 3:return n=e.sent,e.abrupt("return",n);case 5:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},{key:"get_users",value:function(){var e=Object(f["a"])(regeneratorRuntime.mark((function e(){var t,n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t="/users/",e.next=3,this._networkDriver.get(t);case 3:return n=e.sent,e.abrupt("return",n);case 5:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()}]),e}(),R=n("5502"),C=new k("https://game-of-god.herokuapp.com/"),N=new q(C),V={state:{questions:[],all_categories:[],all_users:[]},getters:{get_question:function(e){return e.questions},get_categories:function(e){return e.all_categories},get_users:function(e){return e.all_users}},mutations:{set_questions:function(e,t){e.questions=t},set_categories:function(e,t){e.all_categories=t},set_users:function(e,t){e.all_users=t}},actions:{GET_QUESTIONS_FROM_API:function(e){var t=e.commit;return N.get_questions().then((function(e){t("set_questions",e.data)}))},GET_CATEGORIES_FROM_API:function(e){var t=e.commit;return N.get_categories().then((function(e){t("set_categories",e.data)}))},GET_USERS_FROM_API:function(e){var t=e.commit;return N.get_users().then((function(e){t("all_users",e.data)}))}}},E=V,T="https://game-of-god.herokuapp.com/",I=Object(R["a"])({state:{},getters:{},mutations:{},actions:{},modules:{questionStore:E}}),S=Object(r["defineComponent"])({provide:function(){var e=new k(T),t=new q(e);return{networkDriver:e,accountRepository:t}},computed:{defaultLayout:function(){return p}},components:{LoginLayouts:p}});n("b82b");const D=i()(S,[["render",o]]);var P=D,B=n("9483");Object(B["a"])("".concat("/game_of_good-frontend-/","service-worker.js"),{ready:function(){console.log("App is being served from cache by a service worker.\nFor more details, visit https://goo.gl/AFskqB")},registered:function(){console.log("Service worker has been registered.")},cached:function(){console.log("Content has been cached for offline use.")},updatefound:function(){console.log("New content is downloading.")},updated:function(){console.log("New content is available; please refresh.")},offline:function(){console.log("No internet connection found. App is running in offline mode.")},error:function(e){console.error("Error during service worker registration:",e)}});n("b0c0");var A=n("6c02");function F(e,t,n,o,s,a){var c=Object(r["resolveComponent"])("Header"),i=Object(r["resolveComponent"])("router-view");return Object(r["openBlock"])(),Object(r["createElementBlock"])(r["Fragment"],null,[Object(r["createVNode"])(c),Object(r["createVNode"])(i)],64)}var M={class:"header__wrapper"},U=Object(r["createElementVNode"])("button",{class:"logout__btn"},"Выйти",-1);function L(e,t,n,o,s,a){var c=Object(r["resolveComponent"])("el-popconfirm");return Object(r["openBlock"])(),Object(r["createElementBlock"])("div",M,[Object(r["createVNode"])(c,{"confirm-button-text":"Да","cancel-button-text":"Нет",icon:e.InfoFilled,"icon-color":"#626AEF",title:"Вы уверены, что хотите выйти?",onConfirm:e.logout},{reference:Object(r["withCtx"])((function(){return[U]})),_:1},8,["icon","onConfirm"])])}var J=n("dfee"),G=Object(r["defineComponent"])({setup:function(){var e=Object(r["inject"])("networkDriver"),t=Object(A["c"])(),n=function(){var n=Object(f["a"])(regeneratorRuntime.mark((function n(){return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:try{e.signOut(),t.push({name:"login"}).then()}catch(r){console.log(r)}case 1:case"end":return n.stop()}}),n)})));return function(){return n.apply(this,arguments)}}();return{logout:n,InfoFilled:J["a"]}}});n("11b1");const H=i()(G,[["render",L]]);var W=H,z=Object(r["defineComponent"])({components:{Header:W}});const Q=i()(z,[["render",F]]);var Z=Q,$={class:"homePage__wrapper"},K={class:"homePage__container"},X={class:"number_points"};function Y(e,t,n,o,s,a){var c=Object(r["resolveComponent"])("router-view");return Object(r["openBlock"])(),Object(r["createElementBlock"])("div",$,[Object(r["createElementVNode"])("div",K,[Object(r["createElementVNode"])("div",X,"Очков: "+Object(r["toDisplayString"])(e.count),1),Object(r["createVNode"])(c,{all_questions:e.all_questions,onEdit_questions:e.edit_questions_handler,onIncorrect_answer:e.incorrect_answer_handler,onCorrect_answer:e.correct_answer_handler,random_question:e.random_question,count:e.count},null,8,["all_questions","onEdit_questions","onIncorrect_answer","onCorrect_answer","random_question","count"])])])}n("4de4");function ee(){var e=Object(r["inject"])("accountRepository"),t=function(){var t=Object(f["a"])(regeneratorRuntime.mark((function t(){var n,r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,e.get_questions();case 3:return n=t.sent,r=n.data.results,t.abrupt("return",r);case 8:t.prev=8,t.t0=t["catch"](0),Object(x["a"])({showClose:!0,message:"".concat(t.t0),type:"error"});case 11:case"end":return t.stop()}}),t,null,[[0,8]])})));return function(){return t.apply(this,arguments)}}(),n=function(){var t=Object(f["a"])(regeneratorRuntime.mark((function t(){var n,r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,e.get_categories();case 3:return n=t.sent,r=n.data.results,t.abrupt("return",r);case 8:t.prev=8,t.t0=t["catch"](0),Object(x["a"])({showClose:!0,message:"".concat(t.t0),type:"error"});case 11:case"end":return t.stop()}}),t,null,[[0,8]])})));return function(){return t.apply(this,arguments)}}(),o=function(){var t=Object(f["a"])(regeneratorRuntime.mark((function t(){var n,r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,e.get_users();case 3:return n=t.sent,r=n.data.results,t.abrupt("return",r);case 8:t.prev=8,t.t0=t["catch"](0),Object(x["a"])({showClose:!0,message:"".concat(t.t0),type:"error"});case 11:case"end":return t.stop()}}),t,null,[[0,8]])})));return function(){return t.apply(this,arguments)}}();return{get_all_questions:t,get_all_categories:n,get_all_users:o}}var te=Object(r["defineComponent"])({setup:function(){var e=Object(r["ref"])([]),t=Object(r["ref"])([]),n=Object(r["ref"])([]),o=ee(),s=o.get_all_questions,a=o.get_all_categories,c=o.get_all_users,i=Object(r["computed"])((function(){var t=e.value[Math.floor(Math.random()*e.value.length)];return t})),u=function(){1!==e.value.length?e.value=e.value.filter((function(e){return e.id!==i.value.id})):ot.push({path:"main/game-over"})},l=Object(r["ref"])(0),p=function(){l.value=l.value-100},d=function(){l.value=l.value+10};return Object(r["onMounted"])(Object(f["a"])(regeneratorRuntime.mark((function r(){return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:return r.next=2,s();case 2:return e.value=r.sent,r.next=5,a();case 5:return t.value=r.sent,r.next=8,c();case 8:n.value=r.sent;case 9:case"end":return r.stop()}}),r)})))),{edit_questions_handler:u,get_all_questions:s,get_all_categories:a,get_all_users:c,all_questions:e,all_categories:t,all_users:n,random_question:i,count:l,incorrect_answer_handler:p,correct_answer_handler:d}}});n("3e8e");const ne=i()(te,[["render",Y]]);var re=ne,oe={class:"login__wrapper"},se={class:"login__form-container"};function ae(e,t,n,o,s,a){var c=Object(r["resolveComponent"])("el-input");return Object(r["openBlock"])(),Object(r["createElementBlock"])("div",oe,[Object(r["createElementVNode"])("form",se,[Object(r["createVNode"])(c,{modelValue:e.user.user_name,"onUpdate:modelValue":t[0]||(t[0]=function(t){return e.user.user_name=t}),type:"text",placeholder:"Логин",autocomplete:"off"},null,8,["modelValue"]),Object(r["createVNode"])(c,{modelValue:e.user.user_password,"onUpdate:modelValue":t[1]||(t[1]=function(t){return e.user.user_password=t}),type:"password",autocomplete:"off","show-password":"",placeholder:"Пароль"},null,8,["modelValue"]),Object(r["createElementVNode"])("button",{onClick:t[2]||(t[2]=Object(r["withModifiers"])((function(){return e.submit_form&&e.submit_form.apply(e,arguments)}),["prevent"])),class:"login__form-submit"},"Войти")])])}var ce=Object(r["defineComponent"])({setup:function(){var e=Object(g["a"])(),t=e.cookies,n=Object(A["c"])(),o=Object(r["inject"])("networkDriver"),s=Object(r["inject"])("accountRepository"),a=Object(r["reactive"])({user_name:"",user_password:""});Object(r["onMounted"])((function(){var e=t.get("user_name");"undefined"!==typeof e&&(a.user_name=e)}));var c=function(){var e=Object(f["a"])(regeneratorRuntime.mark((function e(){var r;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(!a.user_name||!a.user_password){e.next=17;break}return e.prev=1,e.next=4,s.login(a.user_name,a.user_password);case 4:return r=e.sent,o.signIn(r.access,r.refresh),t.set("user_name",a.user_name),e.next=9,n.push({path:"/start"});case 9:e.next=15;break;case 11:e.prev=11,e.t0=e["catch"](1),Object(x["a"])({showClose:!0,message:"Неизвестная ошибка. Обратитесь к администратору.",type:"error"}),console.log(e.t0);case 15:e.next=18;break;case 17:Object(x["a"])({showClose:!0,message:"Введите логин и пароль",type:"error"});case 18:case"end":return e.stop()}}),e,null,[[1,11]])})));return function(){return e.apply(this,arguments)}}();return{user:a,submit_form:c,networkDriver:o,accountRepository:s}}});n("3a3b");const ie=i()(ce,[["render",ae]]);var ue=ie,le={class:"login__wrapper"},pe=Object(r["createTextVNode"])("Очистить форму"),fe=Object(r["createTextVNode"])("Зарегистрироваться");function de(e,t,n,o,s,a){var c=Object(r["resolveComponent"])("el-input"),i=Object(r["resolveComponent"])("el-form-item"),u=Object(r["resolveComponent"])("el-button"),l=Object(r["resolveComponent"])("el-form");return Object(r["openBlock"])(),Object(r["createElementBlock"])("div",le,[Object(r["createVNode"])(l,{ref:"registerFormRef",model:e.register_form,rules:e.register_rules,"label-width":"120px",class:"demo-ruleForm",size:e.formSize},{default:Object(r["withCtx"])((function(){return[Object(r["createVNode"])(i,{label:"Логин",prop:"username"},{default:Object(r["withCtx"])((function(){return[Object(r["createVNode"])(c,{modelValue:e.register_form.username,"onUpdate:modelValue":t[0]||(t[0]=function(t){return e.register_form.username=t}),autocomplete:"off"},null,8,["modelValue"])]})),_:1}),Object(r["createVNode"])(i,{label:"Email",prop:"email"},{default:Object(r["withCtx"])((function(){return[Object(r["createVNode"])(c,{modelValue:e.register_form.email,"onUpdate:modelValue":t[1]||(t[1]=function(t){return e.register_form.email=t}),autocomplete:"off",placeholder:"Необязательно"},null,8,["modelValue"])]})),_:1}),Object(r["createVNode"])(i,{label:"Пароль",prop:"password"},{default:Object(r["withCtx"])((function(){return[Object(r["createVNode"])(c,{modelValue:e.register_form.password,"onUpdate:modelValue":t[2]||(t[2]=function(t){return e.register_form.password=t}),type:"password",autocomplete:"off","show-password":"",placeholder:"Минимум 8 символов"},null,8,["modelValue"])]})),_:1}),Object(r["createVNode"])(i,{label:"Повторите пароль",prop:"password_again"},{default:Object(r["withCtx"])((function(){return[Object(r["createVNode"])(c,{modelValue:e.register_form.password_again,"onUpdate:modelValue":t[3]||(t[3]=function(t){return e.register_form.password_again=t}),type:"password",autocomplete:"off","show-password":""},null,8,["modelValue"])]})),_:1}),Object(r["createVNode"])(i,null,{default:Object(r["withCtx"])((function(){return[Object(r["createVNode"])(u,{onClick:t[4]||(t[4]=function(t){return e.resetForm(e.registerFormRef)})},{default:Object(r["withCtx"])((function(){return[pe]})),_:1}),Object(r["createVNode"])(u,{type:"success",onClick:t[5]||(t[5]=function(t){return e.submitForm(e.registerFormRef)})},{default:Object(r["withCtx"])((function(){return[fe]})),_:1})]})),_:1})]})),_:1},8,["model","rules","size"])])}n("ac1f"),n("5319"),n("07ac"),n("159b");var me=Object(r["defineComponent"])({setup:function(){var e=Object(A["c"])(),t=Object(r["inject"])("networkDriver"),n=Object(r["inject"])("accountRepository"),o=Object(r["ref"])("default"),s=Object(r["ref"])(),a=Object(r["reactive"])({username:"",email:"",password:"",password_again:""}),c=function(e,t,n){if(""===t)n(new Error("Введите пароль"));else if(a.password.length<7)n(new Error("Минимум 8 символов"));else{if(""!==a.password){if(!s.value)return;s.value.validateField("checkPass",(function(){return null}))}n()}},i=function(e,t,n){""===t?n(new Error("Введите пароль")):t!==a.password?n(new Error("Пароли не совпадают")):n()},u=Object(r["reactive"])({username:[{required:!0,message:"Пожалуйста, введите логин",trigger:"blur"},{min:3,message:"Минимум 3 буквы",trigger:"blur"}],password:[{validator:c,trigger:"blur"}],password_again:[{validator:i,trigger:"blur"}]}),l=function(){var n=Object(f["a"])(regeneratorRuntime.mark((function n(r){return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:if(r){n.next=2;break}return n.abrupt("return");case 2:return n.next=4,r.validate((function(n,r){if(n){var o={username:a.username,password:a.password};t.register(o).then((function(t){if(201===t.status)Object(x["a"])({showClose:!0,message:"Вы успешно зарегистрировались",type:"success"}),e.replace({name:"login"});else if("undefined"!==typeof t.response.status&&400===t.response.status){var n=Object.values(t.response.data)[0];n.forEach((function(e){Object(x["a"])({showClose:!0,message:"".concat(e),type:"error"})}))}else Object(x["a"])({showClose:!0,message:"Неизвестная ошибка, обратитесь к администратору",type:"error"})})).catch((function(e){var t=Object.values(e.response.data)[0];t.forEach((function(e){Object(x["a"])({showClose:!0,message:"".concat(e),type:"error"})}))}))}else Object(x["a"])({showClose:!0,message:"Заполните обязательные поля.",type:"error"})}));case 4:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}(),p=function(e){e&&e.resetFields()};return{networkDriver:t,accountRepository:n,formSize:o,register_rules:u,registerFormRef:s,register_form:a,submitForm:l,resetForm:p}}});n("520e");const _e=i()(me,[["render",de]]);var be=_e,he={class:"loginLayouts__wrapper"},ge={class:"loginLayouts__container"},ve=Object(r["createElementVNode"])("div",{class:"loginLayouts__title"},"Вход в Игру",-1);function Oe(e,t,n,o,s,a){return Object(r["openBlock"])(),Object(r["createElementBlock"])("div",he,[Object(r["createElementVNode"])("div",ge,[ve,Object(r["createElementVNode"])("div",{class:"loginLayouts__btn signIn__btn",onClick:t[0]||(t[0]=function(){return e.sign_in&&e.sign_in.apply(e,arguments)})},"Войти"),Object(r["createElementVNode"])("div",{class:"loginLayouts__btn signOut__btn",onClick:t[1]||(t[1]=function(){return e.sign_out&&e.sign_out.apply(e,arguments)})},"Зарегистрироваться")])])}var je=Object(r["defineComponent"])({setup:function(){var e=Object(A["c"])(),t=function(){e.push({name:"login"})},n=function(){e.push({name:"register"})};return{sign_in:t,sign_out:n}}});n("b3db");const we=i()(je,[["render",Oe]]);var ke=we,ye={class:"homePage__main"};function xe(e,t,n,o,s,a){return Object(r["openBlock"])(),Object(r["createElementBlock"])("div",ye,[Object(r["createElementVNode"])("div",{class:"homePage__container-title",onClick:t[0]||(t[0]=function(){return e.goToGame&&e.goToGame.apply(e,arguments)})},"Начать игру")])}var qe=Object(r["defineComponent"])({setup:function(){var e=Object(A["c"])(),t=function(){e.push({path:"/game"})};return{goToGame:t}}});const Re=i()(qe,[["render",xe]]);var Ce=Re,Ne={class:"game__wrapper"};function Ve(e,t,n,o,s,a){var c=Object(r["resolveComponent"])("Questions");return Object(r["openBlock"])(),Object(r["createElementBlock"])("div",Ne,[Object(r["createVNode"])(c,{rand_question:e.rand_question,onPass_answer:e.pass_answer_handler},null,8,["rand_question","onPass_answer"])])}var Ee={class:"game__question-title"},Te={class:"game__questions-container"},Ie={class:"questions__container"},Se={class:"questions__container questions__container-bottom"};function De(e,t,n,o,s,a){return Object(r["openBlock"])(),Object(r["createElementBlock"])(r["Fragment"],null,[Object(r["createElementVNode"])("div",Ee,Object(r["toDisplayString"])(e.this_question.title),1),Object(r["createElementVNode"])("div",Te,[Object(r["createElementVNode"])("div",Ie,[Object(r["createElementVNode"])("div",{class:"game__questions-answer",onClick:t[0]||(t[0]=function(t){return e.choosing_answer(e.this_question[e.this_question_keys[0]])})},Object(r["toDisplayString"])(e.this_question[e.this_question_keys[0]]),1),Object(r["createElementVNode"])("div",{class:"game__questions-answer",onClick:t[1]||(t[1]=function(t){return e.choosing_answer(e.this_question[e.this_question_keys[1]])})},Object(r["toDisplayString"])(e.this_question[e.this_question_keys[1]]),1)]),Object(r["createElementVNode"])("div",Se,[Object(r["createElementVNode"])("div",{class:"game__questions-answer",onClick:t[2]||(t[2]=function(t){return e.choosing_answer(e.this_question[e.this_question_keys[2]])})},Object(r["toDisplayString"])(e.this_question[[e.this_question_keys[2]]]),1),Object(r["createElementVNode"])("div",{class:"game__questions-answer",onClick:t[3]||(t[3]=function(t){return e.choosing_answer(e.this_question[e.this_question_keys[3]])})},Object(r["toDisplayString"])(e.this_question[e.this_question_keys[3]]),1)])])],64)}n("4e82");var Pe=Object(r["defineComponent"])({props:{rand_question:{required:!0}},emits:["pass_answer"],setup:function(e,t){var n=Object(r["toRefs"])(e),o=n.rand_question,s=o,a=Object(r["ref"])(["incorrect_answer1","incorrect_answer2","incorrect_answer3","correct_answer"]);Object(r["onMounted"])((function(){a.value.sort((function(){return Math.random()-.5}))}));var c=function(e){a.value.sort((function(){return Math.random()-.5})),t.emit("pass_answer",e)};return{choosing_answer:c,this_question:s,this_question_keys:a}}});const Be=i()(Pe,[["render",De]]);var Ae=Be,Fe=Object(r["defineComponent"])({props:{all_questions:{required:!0},random_question:{required:!0}},setup:function(e,t){var n=Object(r["toRefs"])(e),o=n.all_questions,s=o,a=Object(r["toRefs"])(e),c=a.random_question,i=c,u=function(e){e===i.value.correct_answer?(t.emit("correct_answer"),Object(x["a"])({showClose:!0,message:"Верно",type:"success"})):(t.emit("incorrect_answer"),Object(x["a"])({showClose:!0,message:"Неверно",type:"error"})),t.emit("edit_questions",c),c.value=s.value[Math.floor(Math.random()*s.value.length)]};return{questions:s,pass_answer_handler:u,rand_question:i}},components:{Questions:Ae}});n("16e6");const Me=i()(Fe,[["render",Ve]]);var Ue=Me;function Le(e,t){return Object(r["openBlock"])(),Object(r["createElementBlock"])("div",null,"Страницы не существует")}const Je={},Ge=i()(Je,[["render",Le]]);var He=Ge,We={class:"gameOver__wrapper"},ze={class:"gameOver__container"},Qe=Object(r["createElementVNode"])("div",null,"Игра окончена",-1),Ze=Object(r["createTextVNode"])("Вернуться на главную страниу");function $e(e,t,n,o,s,a){var c=Object(r["resolveComponent"])("el-button");return Object(r["openBlock"])(),Object(r["createElementBlock"])("div",We,[Object(r["createElementVNode"])("div",ze,[Qe,Object(r["createVNode"])(c,{type:"primary",onClick:e.goHome},{default:Object(r["withCtx"])((function(){return[Ze]})),_:1},8,["onClick"])])])}var Ke=Object(r["defineComponent"])({setup:function(){var e=Object(R["b"])(),t=Object(A["c"])(),n=function(){var n=Object(f["a"])(regeneratorRuntime.mark((function n(){return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return n.next=2,e.dispatch("GET_QUESTIONS_FROM_API");case 2:return n.next=4,t.push({path:"/main"});case 4:case"end":return n.stop()}}),n)})));return function(){return n.apply(this,arguments)}}();return{goHome:n}}});n("b42a");const Xe=i()(Ke,[["render",$e]]);var Ye=Xe,et=Object(g["a"])(),tt=et.cookies,nt=[{path:"/home",name:"home",component:ke,meta:{title:"Добро пожаловать",layout:p,isLoginPage:!0}},{path:"/login",name:"login",component:ue,meta:{title:"Авторизация",layout:p,isLoginPage:!0}},{path:"/register",name:"register",component:be,meta:{title:"Регистрация",layout:p,isLoginPage:!0}},{path:"/main",name:"main",component:re,meta:{title:"Игра Бога",layout:Z},children:[{path:"",component:Ce},{path:"/game",component:Ue},{path:"/game-over",component:Ye}]},{path:"/:pathMatch(.*)*",name:"NotFound",component:He}],rt=Object(A["a"])({history:Object(A["b"])(),routes:nt});rt.beforeEach((function(e,t,n){var r=tt.get("accessToken"),o=tt.get("refreshToken");r||o||e.meta.isLoginPage?r&&e.meta.isLoginPage||"NotFound"===e.name?n("/main"):n():n("home")}));var ot=rt,st=n("c3a1");n("7437");Object(r["createApp"])(P).use(st["a"]).use(I).use(ot).mount("#app")},f19d:function(e,t,n){},fd9b:function(e,t,n){}});
//# sourceMappingURL=app.35f0affc.js.map